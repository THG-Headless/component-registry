---
import Sidebar from "./sidebar.astro";
---

<Sidebar />

<script>
  document.addEventListener("astro:page-load", () => {
    // Force re-initialization of sidebar components after navigation
    const sidebar =
      document.querySelector("aside") || document.getElementById("sidebar");
    if (sidebar) {
      // Re-dispatch any initialization events or directly call functions
      // needed to set up your sidebar functionality
      const event = new Event("sidebar:init");
      sidebar.dispatchEvent(event);
    }
  });
</script>
